<div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
  <div class="flex flex-col sm:flex-row justify-between items-center mb-4 gap-4">
    <h3 class="text-xl font-semibold text-gray-900 dark:text-white">Registered Users</h3>
    <div class="flex items-center gap-4 w-full sm:w-auto">
      <input type="text" placeholder="Search by name or email..." (input)="onSearch($event)" class="w-full sm:w-64 px-3 py-2 text-gray-900 bg-gray-50 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
      <button (click)="exportTo('csv')" class="px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700">CSV</button>
      <button (click)="exportTo('json')" class="px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700">JSON</button>
    </div>
  </div>
  <div class="overflow-x-auto">
    <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
      <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
        <tr>
          <th scope="col" class="px-6 py-3">#</th>
          <th scope="col" class="px-6 py-3">User Name</th>
          <th scope="col" class="px-6 py-3">Email</th>
          <th scope="col" class="px-6 py-3">Registration Date</th>
          <th scope="col" class="px-6 py-3">Status</th>
        </tr>
      </thead>
      <tbody>
        @for(user of filteredUsers(); track user.uid; let i = $index) {
          <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
            <td class="px-6 py-4">{{ i + 1 }}</td>
            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">{{ user.name }}</th>
            <td class="px-6 py-4">{{ user.email }}</td>
            <td class="px-6 py-4">{{ user.createdAt | date:'medium' }}</td>
            <td class="px-6 py-4">
              @if(user.isVerified) {
                <span class="px-2 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full dark:bg-green-900 dark:text-green-300">Verified</span>
              } @else {
                <span class="px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 rounded-full dark:bg-yellow-900 dark:text-yellow-300">Pending</span>
              }
            </td>
          </tr>
        } @empty {
          <tr>
            <td colspan="5" class="px-6 py-4 text-center">No users found.</td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>
